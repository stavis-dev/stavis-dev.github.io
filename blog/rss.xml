<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Шпаргалка по знаниям Blog</title>
        <link>https://stavis-dev.github.io/blog</link>
        <description>Шпаргалка по знаниям Blog</description>
        <lastBuildDate>Sat, 25 May 2024 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ru</language>
        <item>
            <title><![CDATA[Скачивание сайтов утилитой wget]]></title>
            <link>https://stavis-dev.github.io/blog/2024/05/25/site-get</link>
            <guid>https://stavis-dev.github.io/blog/2024/05/25/site-get</guid>
            <pubDate>Sat, 25 May 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Как с помпощью утилиты wget скачивать сайты целиком]]></description>
            <content:encoded><![CDATA[<p>Для работы бывали случаи, когда приходилось скачивать сайты целиком. Не просто сохранить страничку в браузере, а скачать со всеми файлами стилей, js скриптами, картинками.<br>
<!-- -->Возможно для такого случая существуют специальные программы. Но как оказалось есть более универсальный методы например использовать утилиту wget. В общем это памятка как раз по использованию это утилиты.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="скачивание-сайта-утилитой">Скачивание сайта утилитой<a href="#скачивание-сайта-утилитой" class="hash-link" aria-label="Прямая ссылка на Скачивание сайта утилитой" title="Прямая ссылка на Скачивание сайта утилитой">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">wget</span><span class="token plain"> -p -k http://somewebsite.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># мой паттерн from https://nborzenko.com/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">wget</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:#E36209">robots</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">off -r -np --page-requisites --convert-links http://somewebsite.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">wget</span><span class="token plain"> -l </span><span class="token number" style="color:#005CC5">1</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:#E36209">robots</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">off -r -np --page-requisites --convert-links http://somewebsite.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Рассмотрим используемые параметры:</p><p><code>-r</code> — указывает на то, что нужно рекурсивно переходить по ссылкам на сайте, чтобы скачивать страницы.</p><p><code>-k</code>, <code>--convert-links</code> — используется для того, чтобы wget преобразовал все ссылки в скаченных файлах таким образом, чтобы по ним можно было переходить на локальном компьютере (в автономном режиме).</p><p><code>-p</code>, <code>--page-requisites</code> — указывает на то, что нужно загрузить все файлы, которые требуются для отображения страниц (изображения, css и т.д.).</p><p><code>-l</code> — определяет максимальную глубину вложенности страниц, которые wget должен скачать (по умолчанию значение равно 5, в примере мы установили 1). В большинстве случаев сайты имеют страницы с большой степенью вложенности и wget может просто «закопаться», скачивая новые страницы. Чтобы этого не произошло можно использовать параметр -l.</p><p><code>-E</code> — добавлять к загруженным файлам расширение .html.</p><p><code>-nc</code> — при использовании данного параметра существующие файлы не будут перезаписаны. Это удобно, когда нужно продолжить загрузку сайта, прерванную в предыдущий раз.</p><p><code>--span-hosts</code> - </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="скачивание-при-плохой-связи">Скачивание при плохой связи<a href="#скачивание-при-плохой-связи" class="hash-link" aria-label="Прямая ссылка на Скачивание при плохой связи" title="Прямая ссылка на Скачивание при плохой связи">​</a></h2><p>Для того, чтобы <code>wget</code> повторял попытки взять файл до тех пор, пока не скачает его целиком, надо указывать ключи <code>-c</code> и <code>-t 0</code>.
Первый означает "продолжать качать с того места, где соединение оборвалось (continue), а второй позволяет указать число попыток, 0 -- бесконечно.</p><p>Например, чтобы скачать исходные тексты проигрывателя .mp3-файлов X11Amp, можно воспользоваться командой</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">wget</span><span class="token plain"> -c -t </span><span class="token number" style="color:#005CC5">0</span><span class="token plain"> http://www.x11amp.bz.nu/files/x11amp-0.9-beta1.1.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Реально ключи <code>-c -t 0</code> стоит указывать практически всегда, кроме как разве что в локальной сети.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="последующая-обработка">Последующая обработка<a href="#последующая-обработка" class="hash-link" aria-label="Прямая ссылка на Последующая обработка" title="Прямая ссылка на Последующая обработка">​</a></h2><p>В случае скачивания сайта "лидер" я столкнулся с проблемой, что все стили и
ява скрипты скачиваются с номером версии. Как то мне это не особо нравится
и я решил найти все подобные указывани версий и удалить их с помощью регулярых
выражений.</p><p>В vscode в поиске регуляркой удаляю лишние приписки к файлам</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#D73A49">?</span><span class="token operator" style="color:#D73A49">&lt;=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">js</span><span class="token operator" style="color:#D73A49">|</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">css</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token operator" style="color:#D73A49">?.</span><span class="token operator" style="color:#D73A49">*</span><span class="token operator" style="color:#D73A49">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#D73A49">?</span><span class="token operator" style="color:#D73A49">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">'</span><span class="token operator" style="color:#D73A49">|</span><span class="token plain">"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>И в командной строке делаю групповое переименование. Для него нужна утилита
<code>rename</code> - <code>brew install rename</code><br>
<!-- -->Перед переименованием
удалить ключ <code>-n</code> защищающий от случайных переименований.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic"># for css</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">find</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"> -type f -regex </span><span class="token string" style="color:#C6105F">".*\.css.*"</span><span class="token plain"> -print0 </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">rename</span><span class="token plain"> -0 </span><span class="token string" style="color:#C6105F">'s/(.*.css).*/$1/'</span><span class="token plain"> -n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># for js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">find</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"> -type f -regex </span><span class="token string" style="color:#C6105F">".*\.js.*"</span><span class="token plain"> -print0 </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">rename</span><span class="token plain"> -0 </span><span class="token string" style="color:#C6105F">'s/(.*.js).*/$1/'</span><span class="token plain"> -n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>wget</category>
            <category>linux</category>
            <category>web</category>
        </item>
        <item>
            <title><![CDATA[KDE темы переключение по рассписанию]]></title>
            <link>https://stavis-dev.github.io/blog/2024/03/18/plasma-apply-colorcheme</link>
            <guid>https://stavis-dev.github.io/blog/2024/03/18/plasma-apply-colorcheme</guid>
            <pubDate>Mon, 18 Mar 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Переключение темы день ночь для kde plasmf]]></description>
            <content:encoded><![CDATA[<p>Как включить автоматическую темную тему (ночной режим) в KDE Plasma<br>
<!-- -->Автоматическое переключение на темную тему - это новый функционал, который набирает популярность последние годы.</p><blockquote><p>Метод, описанный в этом посте работает только при условии, что ваш <code>cron</code> обрабатывает задержанные задания (когда ваш компьютер находится в сне или выключен, и должна быть выполнена эта задача).</p></blockquote><p><img loading="lazy" src="/assets/images/kde-settings-3a3efaa2bbdbe707268e224ab2348475.jpg" width="800" height="578" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="введение">Введение<a href="#введение" class="hash-link" aria-label="Прямая ссылка на Введение" title="Прямая ссылка на Введение">​</a></h2><p>После внедрения этой функции в Android 10 люди начали понимать и ценить ее преимущества, включая:</p><ul><li>Возможность существенно снизить расход энергии (в зависимости от технологии экрана устройства).</li><li>Улучшение видимости для пользователей с низким зрением и для тех, у ктого болезненная чувствительность к яркому свету.</li><li>Упрощение использования устройства в темноте.</li></ul><p>Для оболочки <a href="https://www.gnome.org/" target="_blank" rel="noopener noreferrer">GNOME</a> существует это расширение оболочки: <a href="https://extensions.gnome.org/extension/2236/night-theme-switcher/" target="_blank" rel="noopener noreferrer">Night Theme Switcher</a>.</p><p>Для <a href="https://kde.org/plasma-desktop/" target="_blank" rel="noopener noreferrer">KDE Plasma</a>, однако, единственный автоматический способ, который я смог найти для этого, заключается в использовании приложения <a href="https://store.kde.org/p/1804745/" target="_blank" rel="noopener noreferrer">Day/Night Switcher</a>.</p><p>Но для пользователей, как я, которые не хотят устанавливать что-то из PPA (пользовательского репозитория) исходного кода, есть другой способ. Конечно же это терминал и команда <code>plasma-apply-colorscheme</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="как-это-сделать">Как это сделать<a href="#как-это-сделать" class="hash-link" aria-label="Прямая ссылка на Как это сделать" title="Прямая ссылка на Как это сделать">​</a></h2><p>Сначала откройте терминал и напишите</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">plasma-apply-colorscheme --list-schemes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>чтобы увидеть, какие схемы цветовой палитры установлены на вашем компьютере.</p><p><img loading="lazy" src="/assets/images/plasma-apply-colorscheme-4bc96e9243f381835b0c1e419b8a1f4d.jpg" width="564" height="294" class="img_ev3q"></p><p>(Вы всегда можете устанавливать дополнительные темы используя ваш менеджер пакетов дистрибутива или настройки Plasma.)</p><p>После обнаружения двух цветовых тем, которые мы хотим использовать для дневной темы и ночной темы, откройте менеджер заданий <code>crontab</code> с помощью</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">crontab</span><span class="token plain"> -e</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>и создайте два задания <code>cron</code>. Для облегчения создания рассписания, можно воспользоваться помощью <a href="https://crontab.guru/" target="_blank" rel="noopener noreferrer">этого</a> веб-сайта.
Одно, которое должно выполниться, когда мы хотим переключиться на дневную тему, и другое, когда мы хотим переключиться на ночную тему.</p><p>Команда ввода будет</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">plasma-apply-colorscheme </span><span class="token operator" style="color:#D73A49">&lt;</span><span class="token plain">colorscheme</span><span class="token operator" style="color:#D73A49">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Для меня они будут </p><ul><li><code>BreathLight</code> с 07:00 до 20:00</li><li>и <code>BreathDark</code> для остальной части дня</li></ul><p>Так что эти две задачи <code>cron</code> будут:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#005CC5">0</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">20</span><span class="token plain"> * * * plasma-apply-colorscheme BreathDark </span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token plain">/dev/null </span><span class="token operator file-descriptor important" style="color:#D73A49">2</span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#005CC5">0</span><span class="token plain">  </span><span class="token number" style="color:#005CC5">7</span><span class="token plain"> * * * plasma-apply-colorscheme BreathLight   </span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token plain">/dev/null </span><span class="token operator file-descriptor important" style="color:#D73A49">2</span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token file-descriptor important">&amp;1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>И вот все! Закройте <code>crontab</code>.  Если это пресловутый vim, клавишами (<code>ESC</code> -&gt; <code>:wq</code> -&gt; <code>Enter</code>) и наслаждайтесь автоматическим переключением!</p>]]></content:encoded>
            <category>crontab</category>
            <category>plasma</category>
            <category>kde</category>
            <category>linux</category>
            <category>plasma-apply-colorscheme</category>
        </item>
        <item>
            <title><![CDATA[telegram api]]></title>
            <link>https://stavis-dev.github.io/blog/2023/09/12/telegram-api</link>
            <guid>https://stavis-dev.github.io/blog/2023/09/12/telegram-api</guid>
            <pubDate>Tue, 12 Sep 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Работаем с telegram api, боты, юзерботы]]></description>
            <content:encoded><![CDATA[<p>Памятка для работы с telegram.</p><p>Собрал все в одно место, чтобы не лазить, не искать.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="начало">Начало<a href="#начало" class="hash-link" aria-label="Прямая ссылка на Начало" title="Прямая ссылка на Начало">​</a></h2><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pyrogram">Pyrogram<a href="#pyrogram" class="hash-link" aria-label="Прямая ссылка на Pyrogram" title="Прямая ссылка на Pyrogram">​</a></h2><ul><li><a href="https://github.com/pyrogram/pyrogram" target="_blank" rel="noopener noreferrer">Pyrogram</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ссылки">Ссылки<a href="#ссылки" class="hash-link" aria-label="Прямая ссылка на Ссылки" title="Прямая ссылка на Ссылки">​</a></h2><ul><li><p><a href="https://www.youtube.com/watch?v=4rUnffXeoUA" target="_blank" rel="noopener noreferrer">мастер-класс</a></p></li><li><p>Мастер-класс по юзерботам проводил @L0r3m для участников <a href="https://t.me/botcamp_community" target="_blank" rel="noopener noreferrer">Боткемпе</a></p></li><li><p>Что такое юзерботы и с чем их едят? Различия между обычными- и юзер- ботами в деталях (<a href="https://docs.pyrogram.org/topics/mtpr" target="_blank" rel="noopener noreferrer">https://docs.pyrogram.org/topics/mtpr</a>....</p></li><li><p><a href="https://my.telegram.org/auth" target="_blank" rel="noopener noreferrer">Регистрация</a> своего юзербота в Telegram.</p></li><li><p>Настройка рабочего <a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="noopener noreferrer">окружения</a> и знакомство с библиотекой <a href="https://github.com/pyrogram/pyrogram" target="_blank" rel="noopener noreferrer">Pyrogram</a>.</p></li><li><p>Пишем первого Hello-World-юзербота с использованием библиотеки <a href="https://github.com/ssut/py-googletrans" target="_blank" rel="noopener noreferrer">googletrans</a>.</p></li><li><p>Обсуждаем перспективы и разгоняем идеи для личных проектов с использованием юзерботов.</p></li><li><p>Отвечаем на возникшие вопросы и рефлексируем.</p></li><li><p>Telegram Django Bot за пару строк <a href="https://habr.com/ru/articles/734786/" target="_blank" rel="noopener noreferrer">статья</a> на хабре</p></li></ul>]]></content:encoded>
            <category>modules</category>
            <category>telegram</category>
            <category>bot</category>
            <category>python</category>
        </item>
        <item>
            <title><![CDATA[dotfiles]]></title>
            <link>https://stavis-dev.github.io/blog/2023/08/30/my-dotfiles</link>
            <guid>https://stavis-dev.github.io/blog/2023/08/30/my-dotfiles</guid>
            <pubDate>Wed, 30 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Наводим порядок в файлах настроек]]></description>
            <content:encoded><![CDATA[<p>Проблема с синхронизацией настроек своих приложений, уже начала напрягать.<br>
<!-- -->Часто работаю на разных машинках. И файлы настроек у меня просто расположены в папке <code>.dotfiles</code>
Откуда я просто прокидываю симлинки.
Но честно говоря поднадоело, для синхроницации винды, мака и линукса приходится много "говнокодить", тоесть печатать ручками.</p><p>В общем ищу утилиту для простой синхронизации и управления файлами.</p><ul><li><a href="https://wiki.archlinux.org/title/Dotfiles" target="_blank" rel="noopener noreferrer">статья</a> для начала<ul><li><a href="https://www.chezmoi.io/" target="_blank" rel="noopener noreferrer">chezmoi</a> написан на go - приложение с 9к звезд <a href="https://github.com/twpayne/chezmoi" target="_blank" rel="noopener noreferrer">repo</a><ul><li>обхяснение работы программы на <a href="https://youtu.be/JrCMCdvoMAw?si=6YCD5Tn5LaioGnko" target="_blank" rel="noopener noreferrer">youtube</a> канале автора.</li></ul></li><li><a href="https://github.com/anishathalye/dotbot" target="_blank" rel="noopener noreferrer">dotbot</a> - python - 6k звезд</li></ul></li></ul><p>не смотря на то, что я предпочитаю python, все же думаю поработать с <code>chezmoi</code><br>
<!-- -->С ней и будем работать.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="установка">Установка<a href="#установка" class="hash-link" aria-label="Прямая ссылка на Установка" title="Прямая ссылка на Установка">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pacman -S chezmoi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Далее если мы планируем работать на нескольких разных компьютерах, следует проинициализировать репозиторий с которым будет работать <code>chezmoi</code></p><p>Например:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chezmoi init https://github.com/</span><span class="token variable" style="color:#E36209">$GITHUB_USERNAME</span><span class="token plain">/dotfiles.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>По умолчанию папка с бекапами будет расолагаться по пути <code>~/.local/share/chezmoi/</code></p><p>Переходим в папку используя <code>chezmoi</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chezmoi </span><span class="token builtin class-name" style="color:#116329">cd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>По сути выполнится команда:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> ~/.local/share/chezmoi/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="файл-конфигурации">Файл конфигурации<a href="#файл-конфигурации" class="hash-link" aria-label="Прямая ссылка на Файл конфигурации" title="Прямая ссылка на Файл конфигурации">​</a></h3><p>Посмотреть содержимое кофигурационного файла можно командой:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chezmoi cat-config </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ссылки">Ссылки<a href="#ссылки" class="hash-link" aria-label="Прямая ссылка на Ссылки" title="Прямая ссылка на Ссылки">​</a></h2><ul><li>короткая русская статья на <a href="https://habr.com/ru/articles/585578/" target="_blank" rel="noopener noreferrer">хабре</a></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="репозитории-для-примеров">Репозитории для примеров<a href="#репозитории-для-примеров" class="hash-link" aria-label="Прямая ссылка на Репозитории для примеров" title="Прямая ссылка на Репозитории для примеров">​</a></h3><ul><li><p><a href="https://github.com/twpayne/dotfiles/tree/master" target="_blank" rel="noopener noreferrer">repo</a> с <code>dotfiles</code> автора программы</p></li><li><p>другие <a href="https://github.com/topics/chezmoi?o=desc&amp;s=updated" target="_blank" rel="noopener noreferrer">репозитории</a> работающие через <code>chezmoi</code></p></li><li><p><a href="https://github.com/SimonWoodtli/dotfiles/tree/main" target="_blank" rel="noopener noreferrer">repo</a> с <code>dotfiles</code> от SimonWoodtli</p><ul><li>много интересных bash скриптов</li></ul></li></ul>]]></content:encoded>
            <category>dotfiles</category>
            <category>linux</category>
            <category>chezmoi</category>
        </item>
        <item>
            <title><![CDATA[Mac - особенности системы.]]></title>
            <link>https://stavis-dev.github.io/blog/2023/08/24/my-mac</link>
            <guid>https://stavis-dev.github.io/blog/2023/08/24/my-mac</guid>
            <pubDate>Thu, 24 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Macbook в чем отличия от линукс, особенности команд для админа - девопса]]></description>
            <content:encoded><![CDATA[<p>Не смотря на то, что макбуком пользуюсь на регулярной основе больше 2х лет.
До сих пор не могу запомнить некоторые отличия которые считаю нормальными в linuks и давно к ним привык.
Это просто памятка.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="клавиши">клавиши<a href="#клавиши" class="hash-link" aria-label="Прямая ссылка на клавиши" title="Прямая ссылка на клавиши">​</a></h2><p>Русская раскладка</p><ul><li><code>\``\</code> - <code>option</code> + <code>shift</code> + <code>0</code></li><li><code>[]</code> - <code>tilda</code></li><li><code>{}</code> - <code>option</code> + <code>9</code> или <code>0</code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="буфер-копирования">буфер копирования<a href="#буфер-копирования" class="hash-link" aria-label="Прямая ссылка на буфер копирования" title="Прямая ссылка на буфер копирования">​</a></h2><p>Аналог <code>xclip</code> тут <code>pbcopy</code> и <code>pbpaste</code>.
Работает стандартно через пайпы</p><p>Копирование в буфер</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name" style="color:#116329">echo</span><span class="token plain"> foo </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> pbcopy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Вставка из буфера обмена, например в файл</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pbpaste </span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token plain"> my_clipboard.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ifconfig">ifconfig<a href="#ifconfig" class="hash-link" aria-label="Прямая ссылка на ifconfig" title="Прямая ссылка на ifconfig">​</a></h2><p>Думал unix машины перешли на утилиту <code>ip</code>, но нет.
В маке до сих пор успешно работает <code>ifconfig</code>  </p><p>Например чтобы проверить свои ip адреса нужно вводить:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">ifconfig</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">grep</span><span class="token plain"> inet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="systemctl---launchctl">systemctl - launchctl<a href="#systemctl---launchctl" class="hash-link" aria-label="Прямая ссылка на systemctl - launchctl" title="Прямая ссылка на systemctl - launchctl">​</a></h2><p>Посмотреть список запущенных процессов</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">launchctl print</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ответ на <a href="https://apple.stackexchange.com/questions/364094/how-to-view-status-of-service-e-g-whether-its-running-in-a-format-similar-to" target="_blank" rel="noopener noreferrer">stackexchange</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="атрибут-файла-">атрибут файла @<a href="#атрибут-файла-" class="hash-link" aria-label="Прямая ссылка на атрибут файла @" title="Прямая ссылка на атрибут файла @">​</a></h2><p>Все загружаемые, исполняемые файлы из интернета mac помечает специальным атрибутом <code>@</code>. Он запрещает запускаться файлу.<br>
<!-- -->Атрибуты файла можно увидеть командой <code>ls -l</code>  </p><p>Для снятия атрибута собаки команда:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic"># для файлов</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xattr -c </span><span class="token operator" style="color:#D73A49">&lt;</span><span class="token plain">yourfilename</span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># для папок</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xattr -cr </span><span class="token operator" style="color:#D73A49">&lt;</span><span class="token plain">yourfoldername</span><span class="token operator" style="color:#D73A49">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>После удаления флага "собака", исполняемые файлы запускаются корректно.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="запуск-вс-кода-в-текущей-папке">Запуск вс кода в текущей папке<a href="#запуск-вс-кода-в-текущей-папке" class="hash-link" aria-label="Прямая ссылка на Запуск вс кода в текущей папке" title="Прямая ссылка на Запуск вс кода в текущей папке">​</a></h2><p>Окаааазуецца, мак ось не позволяет запускать файлы с простых баш файлов.
Дабы жизнь малиной не казалась пользователям мак оси, для создания исполняемого файла<br>
<!-- -->его следует создавать с расширением <code>code_here.command</code>.
Ну и далее чуть измененный код ниже:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> </span><span class="token variable" style="color:#E36209">$(</span><span class="token variable function" style="color:#8250DF">dirname</span><span class="token variable" style="color:#E36209"> </span><span class="token variable string" style="color:#C6105F">"</span><span class="token variable string environment constant" style="color:#005CC5">$BASH_SOURCE</span><span class="token variable string" style="color:#C6105F">"</span><span class="token variable" style="color:#E36209">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">code -n </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name" style="color:#116329">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="powerline-fonts-in-vs-code">Powerline fonts in VS Code<a href="#powerline-fonts-in-vs-code" class="hash-link" aria-label="Прямая ссылка на Powerline fonts in VS Code" title="Прямая ссылка на Powerline fonts in VS Code">​</a></h2><p>Изначально в терминале zsh вс кода нет поверлайн шрифтов.
От этого часть символов неотображается.</p><p>In your User Settings (Code | Preferences | Settings) add this:</p><p><code>Roboto Mono for Powerline</code></p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">"terminal.integrated.fontFamily": "same font name as iTerm",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="must-have-apps-on-mac">Must have apps on Mac<a href="#must-have-apps-on-mac" class="hash-link" aria-label="Прямая ссылка на Must have apps on Mac" title="Прямая ссылка на Must have apps on Mac">​</a></h2><ul><li>Замена ls - exa</li><li><a href="https://github.com/ogham/exa" target="_blank" rel="noopener noreferrer">git exa</a></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> exa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="brew">brew<a href="#brew" class="hash-link" aria-label="Прямая ссылка на brew" title="Прямая ссылка на brew">​</a></h2><p>Пакетный менеджер Мак</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="отключить-аналитику">Отключить аналитику<a href="#отключить-аналитику" class="hash-link" aria-label="Прямая ссылка на Отключить аналитику" title="Прямая ссылка на Отключить аналитику">​</a></h3><p>По умолчанию собирает <a href="https://docs.brew.sh/Analytics" target="_blank" rel="noopener noreferrer">аналитику</a> установленных приложений.
Обещает обезличивать данные, но если напрягает можно ее отключить</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew analytics off</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="забытые-объекты-входа">Забытые объекты входа<a href="#забытые-объекты-входа" class="hash-link" aria-label="Прямая ссылка на Забытые объекты входа" title="Прямая ссылка на Забытые объекты входа">​</a></h2><p>Заметил странность. Когда я устанавливаю гугл хром в систему. Он прописывает в автозагрузку <code>объекты входа</code> в настройках. Приложение <code>Updater</code>. Которое призавно проверять не появилась ли новая версия хрома.</p><p>Но что странно, при удалении самого браузера. Автозапуск проверки обновлений так и остается работать в системе. И удалить его очевидными спосабами не представляется возможным.</p><p>Так у меня в обектах входа висели непонятные приложения Google LLC и Google Updater.</p><blockquote><p>Гугление показало</p><ul><li><a href="https://apple.stackexchange.com/questions/189841/how-to-remove-undeletable-login-item" target="_blank" rel="noopener noreferrer">тему How to remove undeletable login item</a></li><li>и обсуждение []</li></ul></blockquote><p>Как оказалось есть команда где можно посмотреть демоны загрузки</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sfltool dumpbtm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>И команда сброса демонов. (Они перечитаются после перезагрузки системы)</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sfltool resetbtm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Проверить пути:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic"># Первый</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">ls</span><span class="token plain"> /Library/LaunchAgents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># Второй там много папок, поискать внимательней. Я удалил всю папку Google</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">ls</span><span class="token plain"> ~/Library/</span><span class="token string" style="color:#C6105F">'Application Support'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># Третий</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">ls</span><span class="token plain"> ~/Library/LaunchAgents</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Демоны нахоятся в папке </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> /Library/LaunchDaemons</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>удалить ненужные (через судо)</li></ul><p>Так же пришлось руками удалять из системы остатки приложения. И удалять файлы, запускаемые.</p><div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">This is what I had to do just now. MacOS 13.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token code keyword" style="color:#CF222E">    I uninstalled Chrome (Move to Trash from Applications)</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#CF222E">    Then I went to System Preferences -&gt; General -&gt; Login Items, and I turned off Google Updater (not sure if this step is required, but I did it anyways)</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#CF222E">    Then I went to this location: /Users/your_user_name/Library/LaunchAgents</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#CF222E">    Deleted the items that I do not want want to run in the background. In this case they were: "com.google.keystone.agent.plist" &amp; "com.google.keystone.xpcservice.plist"</span><br></span><span class="token-line" style="color:#393A34"><span class="token code keyword" style="color:#CF222E">    Restarted my system</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Done. If you go to System Preferences -&gt; General -&gt; Login Items now, you will not see Google Updater there, so no more notifications. Your mind is at peace.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>mac</category>
            <category>DevOps</category>
            <category>apple</category>
        </item>
        <item>
            <title><![CDATA[ssh - только по ключам.]]></title>
            <link>https://stavis-dev.github.io/blog/2023/08/24/ssh-config</link>
            <guid>https://stavis-dev.github.io/blog/2023/08/24/ssh-config</guid>
            <pubDate>Thu, 24 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Закрываем ssh вход по паролю, разрешаем только по ключам]]></description>
            <content:encoded><![CDATA[<p>Думаю это давно обязательная практика для первичной настройки ssh демона.
Но не смотря на память - копипастинг все равно быстрей.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="файл-настроек">Файл настроек<a href="#файл-настроек" class="hash-link" aria-label="Прямая ссылка на Файл настроек" title="Прямая ссылка на Файл настроек">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">vim</span><span class="token plain"> /etc/ssh/sshd_config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Поиском в vim - комбирация <code>/поисковая_фраза</code>
Переключение на следующую найденую комбирацюи <code>n</code>, предыдущую <code>N</code></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="отключение-аутентификации-по-паролю-на-сервере">Отключение аутентификации по паролю на сервере<a href="#отключение-аутентификации-по-паролю-на-сервере" class="hash-link" aria-label="Прямая ссылка на Отключение аутентификации по паролю на сервере" title="Прямая ссылка на Отключение аутентификации по паролю на сервере">​</a></h2><p>Нужный параметр:</p><div class="language-cfg codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cfg codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PasswordAuthentication yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Находим строчку <code>PasswordAuthentication</code></li><li>Расскоментировать, если <code>#</code></li><li>Прописываем <code>no</code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="меняем-стандартный-порт">Меняем стандартный порт<a href="#меняем-стандартный-порт" class="hash-link" aria-label="Прямая ссылка на Меняем стандартный порт" title="Прямая ссылка на Меняем стандартный порт">​</a></h2><p>Не думаю, что это как то спасает от снифферов, но часто требуют. Так что.
Нужный параметр:</p><div class="language-cfg codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cfg codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Port 22</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Находим строчку <code>Port</code></li><li>Прописываем потр по которому хотим подключаться например <code>1234</code></li><li>теперь для подключения по <code>ssh</code> в строку подключения сделует добавить ключ <code>-p 1234</code>.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="копируем-наши-ключи-на-сервер">Копируем наши ключи на сервер<a href="#копируем-наши-ключи-на-сервер" class="hash-link" aria-label="Прямая ссылка на Копируем наши ключи на сервер" title="Прямая ссылка на Копируем наши ключи на сервер">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-copy-id username@remote_host</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Хардкор вариант если <code>ssh-copy-id</code> на сервере нет.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">cat</span><span class="token plain"> ~/.ssh/id_rsa.pub </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> username@remote_host </span><span class="token string" style="color:#C6105F">"mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ну или совсем треш</p><p>Скопировать у себя на хосте открытый ключ:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">cat</span><span class="token plain"> ~/.ssh/id_rsa.pub</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>На OS X, Мак осях используем <code>pbcopy</code>; <code>pbpaste</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pbcopy </span><span class="token operator" style="color:#D73A49">&lt;</span><span class="token plain"> .ssh/id_rsa.pub</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ну а на сервере вставляешь прямо в файл <code>authorized_keys</code>.</p><p>создаем директорию, есди ее еще нет:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> -p ~/.ssh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Добавляем наш открытый ключ в список авторизованных:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name" style="color:#116329">echo</span><span class="token plain"> public_key_string </span><span class="token operator" style="color:#D73A49">&gt;&gt;</span><span class="token plain"> ~/.ssh/authorized_keys</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="перезапуск-сервиса">Перезапуск сервиса<a href="#перезапуск-сервиса" class="hash-link" aria-label="Прямая ссылка на Перезапуск сервиса" title="Прямая ссылка на Перезапуск сервиса">​</a></h2><p>На <strong>Ubuntu / Debian</strong>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">service</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>CentOS/Fedora/Manjaro</strong> этот демон носит имя <code>sshd</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">service</span><span class="token plain"> sshd restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="предупреждение">Предупреждение!<a href="#предупреждение" class="hash-link" aria-label="Прямая ссылка на Предупреждение!" title="Прямая ссылка на Предупреждение!">​</a></h2><p>Иногда при попытке зайти на сервер по ssh может вылететь красивое предупреждение начинающееся с:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED</span><span class="token operator" style="color:#D73A49">!</span><span class="token plain">     @</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Это сообщение означает одну из некоторых причин:</p><ul><li>Сервер был переустановлен</li><li>Изменился IP-адрес сервера</li><li>Сервер сменил SSH-ключи</li><li>MITM-атака (маловероятно, но возможно)</li></ul><p>Решается это удалением старого ключа из списка известных хостов. Команда простая:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -R имя_сервера</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>или</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -R IP_адрес_сервера</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>После удаления старой записи просто подключитесь снова - новый ключ будет добавлен автоматически.</p>]]></content:encoded>
            <category>ssh</category>
            <category>DevOps</category>
        </item>
        <item>
            <title><![CDATA[sshfs - автомонтирование]]></title>
            <link>https://stavis-dev.github.io/blog/2023/08/24/sshfs-mount</link>
            <guid>https://stavis-dev.github.io/blog/2023/08/24/sshfs-mount</guid>
            <pubDate>Thu, 24 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Лайфхак надежного автоматического монтирования sshfs с проверкой]]></description>
            <content:encoded><![CDATA[<blockquote><p>Интересный <a href="https://t.me/bashdays/41" target="_blank" rel="noopener noreferrer">пост</a> с телеграм канала <code>BASH DAYS | LINUX</code> - <a href="https://t.me/bashdays" target="_blank" rel="noopener noreferrer">@bashdays</a>. Чтобы не забыть, выкладываю тут, все со слов автора.</p></blockquote><p>Как-то года 3 назад мы настолько устали каждую неделю ремонтировать маунтшары через glusterfs, что было принято решение выкинуть его нахуй и пойти в сторону упрощения. Много что попробовали, но остановились на sshfs.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="автоматическое-монтирование-sshfs">Автоматическое монтирование SSHFS<a href="#автоматическое-монтирование-sshfs" class="hash-link" aria-label="Прямая ссылка на Автоматическое монтирование SSHFS" title="Прямая ссылка на Автоматическое монтирование SSHFS">​</a></h2><p><code>GlusterFS</code> — это распределённая, параллельная, линейно масштабируемая файловая система с возможностью защиты от сбоев. НУ-НУ 😠</p><p><code>SSHFS</code> — это клиентская программа для <code>Linux</code>, используемая для удаленного управления файлами по протоколу SSH таким образом, как будто они находятся на локальном компьютере.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="проблема">Проблема<a href="#проблема" class="hash-link" aria-label="Прямая ссылка на Проблема" title="Прямая ссылка на Проблема">​</a></h2><p>По вводным: у нас есть <code>baremetal</code> сервер с огромными HDD дисками на овер 500 терабайт. На диске хранится статика, которую отдаем через <code>nginx</code>. Задача: подключать этот диск в облачную инфраструктуру к различным нодам.<br>
<!-- -->Условия: чтобы работало и не воняло. 🤒</p><p>Тут все достаточно просто. Даем команду на нужной нам ноде и шара монтируется в папку <code>/mnt/storage</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sshfs -o </span><span class="token assign-left variable" style="color:#E36209">compression</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">no,allow_other,reconnect storage@bashdayz.ru:/storage /mnt/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>compression</code> - не использовать компрессию</li><li><code>allow_other</code> - разрешить доступ к шаре </li><li><code>reconnect</code> - нативный реконект если шара отвалилась </li></ul><p>Из плюсов: на <code>baremetal</code> сервере не надо устанавливать никакой дополнительный софт, все работает по протоколу <code>ssh</code>.</p><p>Но есть нюансы. Допустим если ноду перезагрузить, то всё отвалится. Либо придут сетевые ножницы и оно тоже отвалится. </p><p>Запихать в <code>fstab</code> не вариант. Так как на этапе маунта еще нет сети и загрузка сервера просто остановится в попытках примонтировать шару. А ключик <code>reconnect</code> работает как ему захочется, даже если выставить таймауты проверок.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="решение">Решение<a href="#решение" class="hash-link" aria-label="Прямая ссылка на Решение" title="Прямая ссылка на Решение">​</a></h2><p>Решение простое, создаем три юнита в <code>systemd</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="юнит-1">Юнит 1<a href="#юнит-1" class="hash-link" aria-label="Прямая ссылка на Юнит 1" title="Прямая ссылка на Юнит 1">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">/etc/systemd/system/mnt-storage.mount</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Unit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Description</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">Mount remote filesystem over sshfs with fuse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">After</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">network.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Install</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">WantedBy</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">multi-user.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Mount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">What</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">storage@bashdayz.ru:/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Where</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/mnt/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Type</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">fuse.sshfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Options</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">kernel_cache,compression</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">no,allow_other,reconnect</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>After=network.target</code> - запускать маунт только после того, как на хосте поднимется сеть</li><li><code>What=storage@bashdayz.ru:/storage</code> - что монтируем</li><li><code>Where=/mnt/storage</code> - куда монтируем</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Важно!</div><div class="admonitionContent_S0QG"><p>Файл юнита должен называться в соответствии с путем куда монтируем. Узнать имя можно командой:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemd-escape -p /mnt/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>Первый юнит сохраняем сюда: <code>/etc/systemd/system/mnt-storage.mount</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">vim</span><span class="token plain"> /etc/systemd/system/mnt-storage.mount</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Теперь нужно сделать юнит проверки, если шара отвалилась. Для начала создаем юнит с таймером:</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="юнит-2">Юнит 2<a href="#юнит-2" class="hash-link" aria-label="Прямая ссылка на Юнит 2" title="Прямая ссылка на Юнит 2">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">/etc/systemd/system/mnt-storage.timer</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Unit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Description</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">Run </span><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">mount</span><span class="token plain"> /mnt/storage check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">After</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">mnt-storage.mount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Timer</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Unit</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">mnt-storage.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">OnCalendar</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">*-*-* *:*:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Install</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">WantedBy</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">timers.target</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>After=mnt-storage.mount</code> - обеспечит запуск таймера после загрузки сервера, но только после того, как маунт юнит будет запущен, то есть после того, как удалённая ФС смонтируется.  </li><li><code>Unit=mnt-storage.service</code> - какой юнит будем запускать при срабатывании таймера. О нём чуть ниже.  </li><li><code>OnCalendar=*-*-* *:*:00</code> - это означает каждую минуту.</li></ul><p>Юнит-файл таймера можно называть как угодно. Но чтобы было понятнее, будем называть также, как и маунт-юнит. Итак, сохраняем в <code>/etc/systemd/system/mnt-storage.timer</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">vim</span><span class="token plain"> /etc/systemd/system/mnt-storage.timer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Теперь нужно создать юнит, который будет заниматься проверкой маунта и его перезапуском при необходимости:</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="юнит-3">Юнит 3<a href="#юнит-3" class="hash-link" aria-label="Прямая ссылка на Юнит 3" title="Прямая ссылка на Юнит 3">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">/etc/systemd/system/mnt-storage.service</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Unit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Description</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">SSH </span><span class="token function" style="color:#8250DF">mount</span><span class="token plain"> /mnt/storage check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Service</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">Type</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">oneshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">ExecStart</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/bin/bash -c </span><span class="token string" style="color:#C6105F">"if [[ ! -f /mnt/storage/mount.yes ]] ;then systemctl restart mnt-storage.mount;fi"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">TimeoutSec</span><span class="token operator" style="color:#D73A49">=</span><span class="token number" style="color:#005CC5">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Install</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">WantedBy</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">multi-user.target </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Здесь всё просто. Bash строка в <code>ExecStart</code> это bash’евый однострочник,
проверяющий наличие маркерного файла <code>mount.yes</code>, при отсутствии которого будет перезапущен маунт-юнит.<br>
<!-- -->В более новой версии <code>systemd</code> можно было бы это всё сделать иначе, но зато такой вариант более универсален.</p><p>Cохраняем в <code>/etc/systemd/system/mnt-storage.service</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">vim</span><span class="token plain"> /etc/systemd/system/mnt-storage.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="активация">Активация<a href="#активация" class="hash-link" aria-label="Прямая ссылка на Активация" title="Прямая ссылка на Активация">​</a></h3><p>Релодим и активируем:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name" style="color:#116329">enable</span><span class="token plain"> mnt-storage.mount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name" style="color:#116329">enable</span><span class="token plain"> mnt-storage.timer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Третий юнит <code>mnt-storage.service</code> при загрузке сервера активировать не нужно, поскольку этот юнит вызывается таймером <code>mnt-storage.timer</code>.<br>
<!-- -->Он будет всегда <code>Active: inactive (dead)</code>, это нормально.</p><p>Ну и в финале запускаем таймер:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start mnt-storage.timer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="итог">Итог<a href="#итог" class="hash-link" aria-label="Прямая ссылка на Итог" title="Прямая ссылка на Итог">​</a></h2><p>Вот и все! Наша шара успешно взята под контроль, подключена. А в случае отвала по любым причинам, она сама перемонтируется без лишних вопросов. Ну и после перезагрузки ноды, тоже все поднимется из коробки.</p><p>Способ рабочий, полет стабильный более трёх лет. Можешь приспособить к своим каким-то изобретениям и использовать уже юниты, а не закроненные <code>bash</code> скрипты. А шары монтировать через <code>sshfs</code>, а не через вонючий, разваливающийся <code>gluster</code>. Фак еее! 🐄</p><blockquote><p>Подпишись: <a href="https://t.me/bashdays" target="_blank" rel="noopener noreferrer">@bashdays</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="дополнительно">Дополнительно<a href="#дополнительно" class="hash-link" aria-label="Прямая ссылка на Дополнительно" title="Прямая ссылка на Дополнительно">​</a></h2><p>Посмотреть подключенные машины по <code>sshfs</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">cat</span><span class="token plain"> /etc/mtab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>или в современных системах 2020г и выше - использовать утилиту  <code>findmnt</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">findmnt -t fuse.sshfs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>В ручную отмонтировать диск</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fusermount -u /temp/user/harddrive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ссылки">Ссылки<a href="#ссылки" class="hash-link" aria-label="Прямая ссылка на Ссылки" title="Прямая ссылка на Ссылки">​</a></h2><ul><li>оригинальный <a href="https://t.me/bashdays/41" target="_blank" rel="noopener noreferrer">пост</a></li><li><a href="https://telegra.ph/YUnity-montirovaniya-sshfs-07-26" target="_blank" rel="noopener noreferrer">юниты</a> в телеграф</li></ul>]]></content:encoded>
            <category>sshfs</category>
            <category>DevOps</category>
            <category>bashdays</category>
            <category>linux</category>
        </item>
        <item>
            <title><![CDATA[DevOps игра Bandit]]></title>
            <link>https://stavis-dev.github.io/blog/2023/08/23/linux-game</link>
            <guid>https://stavis-dev.github.io/blog/2023/08/23/linux-game</guid>
            <pubDate>Wed, 23 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Мое прохождение linux игры Bandit]]></description>
            <content:encoded><![CDATA[<p>Начал играть в игру «Bandit» от Overthewire.</p><p>Сюжет такой: Ты подключаешься к удаленной машине и в изолированном пространстве ищешь ключ для подключения к следующей машине, используя рекомендации на сайте. В описании практически каждого уровня имеется список команд, которые тебе могут пригодиться.</p><p>Устанавливать ничего не надо, заходишь на <a href="https://overthewire.org/wargames/bandit/bandit0.html" target="_blank" rel="noopener noreferrer">сайт</a>, выбираешь Level 0 и читаешь условия задачи. Затем подключаешься физически по ssh к серверу и начинаешь игру.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">2220</span><span class="token plain"> bandit0@bandit.labs.overthewire.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Пароль:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bandit0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="прохождение">Прохождение<a href="#прохождение" class="hash-link" aria-label="Прямая ссылка на Прохождение" title="Прямая ссылка на Прохождение">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#005CC5">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- NH2SXQwcBdpmTEzi3bvBHMM9H66vVXjL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#005CC5">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- rRGizSaX8Mk1RTb1CNQoXTcYZWU6lgzi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#005CC5">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- aBZ0W5EmUfAf7kHTQeOwd8bauFJ2lAiG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#005CC5">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 2EW7BBsr6aMMoJ2HjW067dm8EgX26xNe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#005CC5">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- lrIWWI6bB37kxfiCQZqUdOIYfr6eEeqR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#005CC5">6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- P4L4vucdmLnm8I7Vl7jG1ApGSfjYKqJU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#005CC5">7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- z7WtoNQU2XfjmMtWA8u5rN4vzqu4v99S</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">2220</span><span class="token plain"> bandit8@bandit.labs.overthewire.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># TESKZC0XvTetK0S9xNwm25STk5iWrBvP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">2220</span><span class="token plain"> bandit9@bandit.labs.overthewire.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># EN632PlfYiZbn3PhVK3XOGSlNInNE00t</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="решения">Решения<a href="#решения" class="hash-link" aria-label="Прямая ссылка на Решения" title="Прямая ссылка на Решения">​</a></h2><p>Простые уровни я просто пропущу, далее оставлю только те, которые интересны.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="05">05<a href="#05" class="hash-link" aria-label="Прямая ссылка на 05" title="Прямая ссылка на 05">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">file</span><span class="token plain"> ./*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="06">06<a href="#06" class="hash-link" aria-label="Прямая ссылка на 06" title="Прямая ссылка на 06">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">find</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"> -type f -size 1033c </span><span class="token operator" style="color:#D73A49">!</span><span class="token plain"> -executable -exec </span><span class="token function" style="color:#8250DF">file</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'{}'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">grep</span><span class="token plain"> ASCII</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="07">07<a href="#07" class="hash-link" aria-label="Прямая ссылка на 07" title="Прямая ссылка на 07">​</a></h3><blockquote><p><a href="https://mayadevbe.me/posts/overthewire/bandit/level7/" target="_blank" rel="noopener noreferrer">объяснение</a></p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">find</span><span class="token plain"> / -type f -user bandit7 -group bandit6 -size 33c </span><span class="token operator file-descriptor important" style="color:#D73A49">2</span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token plain">/dev/null</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="09">09<a href="#09" class="hash-link" aria-label="Прямая ссылка на 09" title="Прямая ссылка на 09">​</a></h3><blockquote><p>The password for the next level is stored in the file data.txt and is the only line of text that occurs only once.</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic"># sort для сортировки строк, uniq подсчитывает только повторяющиеся строки рядом</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># uniq -u  -u (--unique) — выводит исключительно те строки, у которых нет повторов.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">sort</span><span class="token plain"> data.txt </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">uniq</span><span class="token plain"> -u</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10">10<a href="#10" class="hash-link" aria-label="Прямая ссылка на 10" title="Прямая ссылка на 10">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">2220</span><span class="token plain"> bandit9@bandit.labs.overthewire.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># EN632PlfYiZbn3PhVK3XOGSlNInNE00t</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>The password for the next level is stored in the file data.txt in one of the few human-readable strings, preceded by several ‘=’ characters.</p></blockquote><blockquote><p>Пароль для следующего уровня хранится в файле data.txt в виде одной из немногих удобочитаемых строк, которым предшествуют несколько символов «=».</p></blockquote><p>Решение:</p><blockquote><p>Нужно просмотреть текст внутри двоичного файла или файла данных? Команда Linux strings извлечет и выведет на терминал биты текста, которые называются "строками".</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bandit9@bandit:~$ </span><span class="token function" style="color:#8250DF">grep</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">"==="</span><span class="token plain"> data.txt </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep: data.txt: binary </span><span class="token function" style="color:#8250DF">file</span><span class="token plain"> matches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bandit9@bandit:~$ strings data.txt </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">grep</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">"==="</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">4</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token plain"> the</span><span class="token comment" style="color:#6B6B6B;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token plain"> password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token plain"> is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token operator" style="color:#D73A49">==</span><span class="token plain"> G7w8LIi6J3kTb8A7j9LgrywtEUlyyp6s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11">11<a href="#11" class="hash-link" aria-label="Прямая ссылка на 11" title="Прямая ссылка на 11">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">2220</span><span class="token plain"> bandit10@bandit.labs.overthewire.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># G7w8LIi6J3kTb8A7j9LgrywtEUlyyp6s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>The password for the next level is stored in the file data.txt, which contains base64 encoded data</p></blockquote><blockquote><p>Пароль для следующего уровня хранится в файле data.txt, который содержит данные в кодировке Base64.</p></blockquote><p>Решение:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bandit10@bandit:~$ </span><span class="token function" style="color:#8250DF">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bandit10@bandit:~$ </span><span class="token function" style="color:#8250DF">cat</span><span class="token plain"> data.txt </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#E36209">VGhlIHBhc3N3b3JkIGlzIDZ6UGV6aUxkUjJSS05kTllGTmI2blZDS3pwaGxYSEJNCg</span><span class="token operator" style="color:#D73A49">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># -d or --decode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bandit10@bandit:~$ base64 -d data.txt </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The password is 6zPeziLdR2RKNdNYFNb6nVCKzphlXHBM</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12">12<a href="#12" class="hash-link" aria-label="Прямая ссылка на 12" title="Прямая ссылка на 12">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">2220</span><span class="token plain"> bandit11@bandit.labs.overthewire.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 6zPeziLdR2RKNdNYFNb6nVCKzphlXHBM</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>The password for the next level is stored in the file data.txt, where all lowercase (a-z) and uppercase (A-Z) letters have been rotated by 13 positions</p></blockquote><blockquote><p>Пароль для следующего уровня хранится в файле data.txt, где все строчные (a-z) и прописные (A-Z) буквы повернуты на 13 позиций.</p></blockquote><p>Решение:</p><blockquote><p>13 позиций от английской А - это N</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bandit11@bandit:~$ </span><span class="token function" style="color:#8250DF">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bandit11@bandit:~$ </span><span class="token function" style="color:#8250DF">cat</span><span class="token plain"> data.txt </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Gur cnffjbeq vf WIAOOSFzMjXXBC0KoSKBbJ8puQm5lIEi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bandit11@bandit:~$ </span><span class="token function" style="color:#8250DF">cat</span><span class="token plain"> data.txt </span><span class="token operator" style="color:#D73A49">|</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">tr</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'A-Za-z'</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'N-ZA-Mn-za-m'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The password is JVNBBFSmZwKKOP0XbFXOoW8chDz5yVRv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="13">13<a href="#13" class="hash-link" aria-label="Прямая ссылка на 13" title="Прямая ссылка на 13">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">ssh</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">2220</span><span class="token plain"> bandit12@bandit.labs.overthewire.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># JVNBBFSmZwKKOP0XbFXOoW8chDz5yVRv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>The password for the next level is stored in the file data.txt, which is a hexdump of a file that has been repeatedly compressed. For this level it may be useful to create a directory under /tmp in which you can work using mkdir. For example: mkdir /tmp/myname123. Then copy the datafile using cp, and rename it using mv (read the manpages!)</p></blockquote><blockquote><p>Пароль для следующего уровня хранится в файле data.txt, который представляет собой шестнадцатеричный дамп неоднократно сжатого файла. На этом уровне может оказаться полезным создать каталог в /tmp, в котором вы сможете работать с помощью mkdir. Например: mkdir/tmp/myname123. Затем скопируйте файл данных с помощью cp и переименуйте его с помощью mv (читайте man-страницы!)</p></blockquote><p>Решение:</p><p><a href="https://mayadevbe.me/posts/overthewire/bandit/level13/" target="_blank" rel="noopener noreferrer">подсказка</a></p><blockquote><p>?</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>DevOps</category>
            <category>bandit</category>
        </item>
        <item>
            <title><![CDATA[Makefile для Docker]]></title>
            <link>https://stavis-dev.github.io/blog/2023/08/23/makefile-for-docker</link>
            <guid>https://stavis-dev.github.io/blog/2023/08/23/makefile-for-docker</guid>
            <pubDate>Wed, 23 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Простое управление докерами файлом Make]]></description>
            <content:encoded><![CDATA[<p>Просто памятки ради.</p><p>Прочитал <a href="https://earthly.dev/blog/docker-and-makefiles/" target="_blank" rel="noopener noreferrer">статью</a>. Оказывается с помощью <code>Makefile</code> удобней работать с докер образами.</p><p>Пример из статьи: </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DOCKER_USERNAME ?</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPLICATION_NAME ?</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> hello-world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token function" style="color:#8250DF">docker</span><span class="token plain"> build --tag </span><span class="token variable" style="color:#E36209">${DOCKER_USERNAME}</span><span class="token plain">/</span><span class="token variable" style="color:#E36209">${APPLICATION_NAME}</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>запуск сокращается до команды</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">make</span><span class="token plain"> build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Вариант же с моей 13й машиной, где помимо рабочих прог крутится сервер <code>jellyfin</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Makefile</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stop:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> down</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Соответственно <code>make</code> или <code>make start</code> запустит контейнер, а <code>make stop</code> остановит.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ссылки">Ссылки<a href="#ссылки" class="hash-link" aria-label="Прямая ссылка на Ссылки" title="Прямая ссылка на Ссылки">​</a></h2><ul><li><a href="https://makefiletutorial.com/" target="_blank" rel="noopener noreferrer">Туториал</a> по файлу makefile</li></ul>]]></content:encoded>
            <category>docker</category>
            <category>DevOps</category>
            <category>make</category>
        </item>
        <item>
            <title><![CDATA[Концепция первого шага]]></title>
            <link>https://stavis-dev.github.io/blog/2023/08/22/first-step</link>
            <guid>https://stavis-dev.github.io/blog/2023/08/22/first-step</guid>
            <pubDate>Tue, 22 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Концепция Первого Шага: Как решать проблемы ]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://d66cvws976y93.cloudfront.net/media/uploads/zinnia/2016/11/21/first_step.jpg" class="img_ev3q"></p><p>СНАЧАЛА: убедитесь, что вы решаете ненадуманные проблемы.</p><p>Концепция Первого шага: </p><blockquote><p>если вы не знаете, как решить что-то, просто сделайте первый шаг. Вы не должны знать все о проблеме, чтобы начать решать ее, не так ли?</p></blockquote><p>Например, вы получили задание, с которым вы раньше не имели дела. Вместо того чтобы медлить, начните сбор информации о ньом в Интернете.</p><p>Заметил, что слишком много думаю, прежде чем сделать что-нибудь. Мой разум хочет знать ответы на все вопросы еще до того, как я что-то сделаю. Это своего рода безумие smiley.</p><p>Разум не может принять неопределенность, но я верю, что мы можем сделать это.</p><p>СОВЕТ: Если первый шаг не является очевидным, попробуйте подумать на бумаге.</p>]]></content:encoded>
            <category>мотивация</category>
        </item>
        <item>
            <title><![CDATA[Адаптация изображений под цвет темы сайта]]></title>
            <link>https://stavis-dev.github.io/blog/2023/07/07/imageswitcher</link>
            <guid>https://stavis-dev.github.io/blog/2023/07/07/imageswitcher</guid>
            <pubDate>Fri, 07 Jul 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Адаптация изображений на сайте, при переключении светлой или темной темах]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://i.stack.imgur.com/3e9D7.gif" class="img_ev3q"></p><p>В зависимости от того какая тема применена на сайте, возникает необходимость переключать изображения (со светлым фоном и темным фоном)</p><p>Как это можно реализовать в <code>docusaurus</code> я не знаю. Но нашел ваиант как это сделано в проэкте <a href="https://docs.venom.foundation/general/developer-programm" target="_blank" rel="noopener noreferrer">venom</a></p><p>На этой странице картинка при переключении темы со светлую на темную, переключается и картинка.</p><p>Реализованно это <a href="https://github.com/venom-blockchain/venom-blockchain.github.io/blob/main/docs/start/general/developer-programm.md?plain=1" target="_blank" rel="noopener noreferrer">github код страницы</a>.</p><p>Оставлю себе памятку, на тот случай, когда мне это понадобится.</p><p>Код импорта и само изображение вставляются прямо в <code>markdown</code> страницу.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ImageSwitcher</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'./../../../src/components/ImageSwitcher'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports">program_logo_light</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'./assets/developer-programm/vf-dev-program-black.png'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports">program_logo_dark</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'./assets/developer-programm/vf-dev-program-white.png'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#22863A">ImageSwitcher</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">    </span><span class="token tag attr-name" style="color:#0550AE">lightImageSrc</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#C6105F">{program_logo_light}</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">    </span><span class="token tag attr-name" style="color:#0550AE">darkImageSrc</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#C6105F">{program_logo_dark}</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">    </span><span class="token tag attr-name" style="color:#0550AE">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#C6105F">Developer Program Logo</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">    </span><span class="token tag attr-name" style="color:#0550AE">width</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#C6105F">400px</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Файл же <code>ImageSwitcher</code> реализован следующим образом:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">ImageSwitcher.tsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'react'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useColorMode </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">'@docusaurus/theme-common'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#8250DF">ImageSwitcher</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter" style="color:#953800"> lightImageSrc</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter" style="color:#953800"> darkImageSrc</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter" style="color:#953800"> alt</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter" style="color:#953800"> </span><span class="token parameter spread operator" style="color:#D73A49">...</span><span class="token parameter" style="color:#953800">props </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#D73A49">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#CF222E">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> isDarkTheme </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">useColorMode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#22863A">img</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">            </span><span class="token tag attr-name" style="color:#0550AE">src</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#24292E">isDarkTheme </span><span class="token tag script language-javascript operator" style="color:#D73A49">?</span><span class="token tag script language-javascript" style="color:#24292E"> darkImageSrc</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#24292E">src</span><span class="token tag script language-javascript" style="color:#24292E"> </span><span class="token tag script language-javascript operator" style="color:#D73A49">:</span><span class="token tag script language-javascript" style="color:#24292E"> lightImageSrc</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#24292E">src</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">            </span><span class="token tag attr-name" style="color:#0550AE">alt</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#24292E">alt</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">            </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#D73A49">...</span><span class="token tag spread" style="color:#22863A">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#22863A"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#22863A">        </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#CF222E">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">default</span><span class="token plain"> </span><span class="token maybe-class-name">ImageSwitcher</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>html</category>
            <category>img</category>
            <category>docusaurus</category>
        </item>
        <item>
            <title><![CDATA[Что должен знать Python разработчик]]></title>
            <link>https://stavis-dev.github.io/blog/2023/07/03/what-to-know-python</link>
            <guid>https://stavis-dev.github.io/blog/2023/07/03/what-to-know-python</guid>
            <pubDate>Mon, 03 Jul 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Что надо знать Python веб-разработчику для успешного поиска работы?]]></description>
            <content:encoded><![CDATA[<p><a href="https://www.youtube.com/watch?v=9kLI6R0heTQ" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://i.ytimg.com/vi/9kLI6R0heTQ/hqdefault.jpg" alt="видео" class="img_ev3q"></a></p><p>Это текстовая версия  видеролика.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-to-knov">Что надо знать Python разработчику<a href="#what-to-knov" class="hash-link" aria-label="Прямая ссылка на Что надо знать Python разработчику" title="Прямая ссылка на Что надо знать Python разработчику">​</a></h2><p>Был вопрос в комментариях о том, что надо знать Python веб-разработчику для успешного приёма на работу — я попытаюсь ответить на этот вопрос. Это будет моё мнение, оно в каких-то моментах может отличаться от мнений других специалистов, но если вы будете знать и уметь то, о чём я расскажу в этом видео, вы с большой вероятностью сможете найти работу быстро.</p><p>При этом я осознанно не буду говорить здесь об уровне разработчика — разница между джуниором, middle и серьором разработчиком с точки зрения разных людей разная, и с точки зрений разных компаний тоже разная.</p><p>Чем больше из моего перечня вы знаете и умеете, тем лучше и тем выше ваши шансы быстро найти хорошую работу. В минимальном объёме вы должны знать и понимать все озвученные темы хотя бы по основам, но, понятно, что чем глубже вы будете их понимать, тем лучше.</p><p>И да, список будет длинным, я не хочу никого этим демотивировать — но люди, которые идут в отрасль тупо за зарплатой, считая, что здесь легко можно получить 150к за умение тыкать в кнопки, пусть немноооого призадумаются. Чуть-чуть. Окей, поехали!</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="базовые-знания-интернет-и-веб">Базовые знания Интернет и Веб<a href="#базовые-знания-интернет-и-веб" class="hash-link" aria-label="Прямая ссылка на Базовые знания Интернет и Веб" title="Прямая ссылка на Базовые знания Интернет и Веб">​</a></h2><p>Итак, мы с вами говорим о веб разработке, а значит надо понимать, как собственно работает веб. Что входит в понимание того, как работает веб. Надо понимать, как в целом работает интернет, что такое IP адреса и как это все связывается в глобальную мировую сеть.</p><p>Надо знать, что такое DNS и как он работает, то есть что происходит, когда в браузере вы переходите на youtube.com. Надо понимать про hosts файл, которым вы можете изменить DNS настройки. Как физически запустить что-то на своём домене 2 или 3 уровня, то есть как привязать к домену свой сервер. Причем это надо уметь настроить физически на линукс сервере, например, в nginx.</p><p>Надо знать о разнице HTTP и HTTPS протоколов и опять же уметь ручками настроить на вашем домене  работу по защищенному HTTPS протоколу.</p><p>Надо знать о том, <code>как работает HTTP</code>. Какие есть виды HTTP запросов, чем они отличаются и когда целесообразно какие виды запросов применять. Какие есть основные HTTP статусы и что они означают, какие поля есть в HTTP запросах и за что они отвечают, хотя бы базовые. Круто, если вы прям в telnet можете показать, как это всё работает на уровне HTTP.</p><p>Конечно, надо понимать, как работают и для чего нужны <code>Cookies</code>, какие они бывают, как с ними работать из JavaScript c клиентской части и как с ними работать с серверной части.</p><p>Как работают <code>авторизация  и аутентификация</code> на веб-сайтах и в мобильных приложениях, которые хранят данные на сервере. Кстати, разницу между авторизацией и аутентификацией тоже надо понимать.</p><p>В идеале вы должны уметь настроить механизм сессий без веб-фреймворков, просто чтобы понимать, как это всё работает под капотом вашего любимого фреймворка, того же Django. Чтобы у вас было настоящее понимание о том, что там никакой магии не происходит.</p><p>Итак, это про базовое понимание того, <code>как работает интернет и веб</code>. Это азы и это база, которую надо знать веб-разработчикам.</p><p>Идём дальше.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="html-css-js">HTML, CSS, JS<a href="#html-css-js" class="hash-link" aria-label="Прямая ссылка на HTML, CSS, JS" title="Прямая ссылка на HTML, CSS, JS">​</a></h2><p>Я глубоко убеждён в том, что все, все веб-разработчики должны знать хотя бы азы фронтенд технологий. Что сюда входит. Конечно же, <code>HTML</code>, язык гипертекстовой разметки. Конечно же, <code>CSS</code>, язык каскадных стилей, который позволяет оформлять веб-страницы. Используя HTML и CSS вы должны уметь минимально верстать страницы и какие-то базовые блоки. Я не говорю о том, что вы должны уметь это делать профессионально, но вы должны знать о семантической разметке, о настройке шрифтов, местоположений блоков на странице, margins и paddings, уметь использовать flex-боксы, флоаты, таблицы и тд. Вы должны вполне себе базово уметь верстать. Кстати, про адаптивную верстку тоже хорошо бы знать и уметь, все эти media queries и тд.</p><p>Идем дальше. <code>JavaScript</code>. Я глубоко убежден, что все веб-разработчики должны знать хотя бы азы JavaScript. В 2020м году надо знать уже не JS фреймворк JQuery, а нативный нормальный JavaScript и JavaScript API браузера. Document.querySelector, работа с CSS стилями из JavaScript, переменные, циклы, функции Javascript, работа с AJAX запросами (и на стороне фронтенда, то есть JS, и на стороне бэкенда, то есть Python“а), модель асинхронности JavaScript. Если знаете еще какой-то JS фреймворк (реакт или Vue), будете вообще красавчиком.</p><p>Итак, это с точки зрения фронтенда. Идём дальше, непосредственно к бэкенду.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="python">Python<a href="#python" class="hash-link" aria-label="Прямая ссылка на Python" title="Прямая ссылка на Python">​</a></h2><p><code>Python</code>. Конечно, нам надо знать Python. Что входит в  серьезное знание любого языка программирования. Это а) знание его синтаксиса, б) знание его стандартной библиотеки, в) знание его основных third-party, то есть внешних библиотек.</p><p>Всё это вы должны знать максимально глубоко, если это ваша основная рабочая сфера деятельности. Обратите внимание, знание языка это не знание синтаксиса, этого пипец как мало. Понятно, надо знать синтаксис — определение переменных, функций, модулей и пакетов, ветвления и циклы.</p><p>Типы данных — числа, строки, последовательности и как с ними работать. Последовательности все должны быть на кончиках пальцев — листы, дикты, таплы, множества. Как с ними работать, преообразовывать друг в друга, какие особенности. Слайсы и тд.</p><p>Форматирования строк, приведение типов и тд. Классы и объекты. Аргументы в функциях — позиционные и keyword, args и kwargs. Функции map, reduce, zip. Лямбда функции. Генераторы, декораторы. Исключения.</p><p>Всё это должно быть для вас просто как ваши пять пальцев. Вы не должны вообще задумываться об этих конструкциях языка, когда вы их используете. Для этого у вас должно быть достаточное количество практики.</p><p>Когда вы говорите на своём родном языке, например, русском, вы же не задумываетесь по ходу речи о существителных, прилагательных и глаголах, вы думаете о смысле, который вы при помощи своей речи передаёте. Точно так же у вас должно стать и с вашим основным языком, например, Python. Вы пишете код и думаете не о конструкциях языка, а о той логике, которую ваш код реализует, о той задаче, которую вы в данный момент программируете. Знание синтаксиса языка это абсолютно базовое знание, оно важно, но его мало.</p><p>Асинхронность в питоне важная часть языка. Какая она бывает, в чем разница, когда что имеет смысл применять. Надо нормально уметь пользоваться asyncio, конечно.</p><p>Знание станд библиотеки языка. Работа с файлами (обычными текстовыми и CSV) и аргументами командной строки. Пакет collections. Регулярные выражения. Логирование  тоже очень важная тема. Работа с pickle дампами, с JSON. Работа с датами очень частая задача и вам нужно уметь свободно работать с датами и временем, в том числе с временными зонами (там pytz и тд).</p><p>Third-party библиотеки. Сюда входит например requests для работы с HTTP запросами. Aiohttp для отправки асинхронных запров и в качестве асинхронного веб-сервера. Библиотеки для работы с Excel документами, PDF, XML, HTML (там beautiful soup тот же). Уметь работать с Celery и Redis.</p><p>Веб-фреймворки. Сюда относятся Django, Flask, Tornado и в принципе aiohttp. Всё знать не надо, но Django это мейнстрим, если знать только что-то одно, то его.  Flask это микро-фреймворк, он маленький и простой, поэтому в целом его тоже можно изучить. Tornado сейчас изучать для написания на нем новых проектов наверное не стоит, лучше изучить aiohttp.</p><p>Итак, django. Что входит в минимальное знание Django. Создание проекта и приложений, модели и миграции, создание роутов и контроллеров, которые называются Views в Django, полезно знать тестирование в Django. Джанговый ORM, джанговый язык темплейтов. Надо знать правильную структуру Django проектов, понимание, где писать бизнес-логику. Как работать с джанговой админкой. Как работать с юзерами, авторизацией и аутентификацией в Django. Как работать со своими management  командами в Django.</p><p>В идеале еще знать DRF, но в целом необязательно, при желании можно по ходу изучить, если со всем остальным у вас всё нормально.</p><p>Так, это касательно питона, библиотек и фреймворков. Идём дальше к качеству кода.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pep8">PEP8<a href="#pep8" class="hash-link" aria-label="Прямая ссылка на PEP8" title="Прямая ссылка на PEP8">​</a></h2><p>Следование стандартам разработки — в случае питона PEP8.</p><p>Принципы написания качественного ПО. Про нейминг, про KISS, DRY, про ООП и про Solid, про основные шаблоны проектирования, про чистый код. Это огромная большая тема и да, это всё по большей части уже не junior тема, но вы с самого старта должны хотя бы базовые  штуки из этого знать и применять.</p><p>Тестирование. Какие бывают тесты, чем они отличаются, когда что использовать. Какие есть методологии разработки, связанные с тестированием и почему они хороши (TDD и тд).</p><p>Инструментарий. ipython как удобный python shell, IDE (вероятнее всего Pycharm), pdb для отладки.</p><p>git — хотя бы базовые заведение репозиториев, ветки, коммиты, мержи.</p><p>chrome developer tools, работа с DOM деревом в ней, с сетью, с JS консолью.</p><p>Терминальные утилиты Linux, необходимые в разработке — cat, less, head/tail, grep и ripgrep, awk, xargs, htop и куча других. Про linux поговорим еще ниже.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Прямая ссылка на SQL" title="Прямая ссылка на SQL">​</a></h2><p>SQL и реляционные СУБД. Если вы бэкендер, вам нужно знать базы данных и нужно нормально уверенно с ними уметь работать. То есть вы должны знать PostgreSQL, как ее поставить, минимально настроить, создавать там БД, таблицы, делать в них запросы. Причем запросы не просто уровня select 2+2, а join“ы с несколькими таблицами, со сложными группировками, having, оконными функциями и тд.</p><p>Надо знать про индексы и про хотя бы минимальную их настройку, про внешние ключи и нормализацию и денормализацию БД, конечно, надо понимать, плюсы и минусы нормализованной и денормализованной БД.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Прямая ссылка на Linux" title="Прямая ссылка на Linux">​</a></h2><p>Если вы бэкенд разработчик, вы должны знать линукс и точка. Что значит знать линус. Это значит, что вы абсолютно комфортно можете решать все свои рабочие вопросы в терминале и браузере. Создание проекта, поиск в проекте, работа с исходным кодом проекта, настройка всех его компонентов, умение развернуть и настроить полноценный сервер для своего проекта. Кто-то скажет, что для этого есть админы и devops, но нет, друзья, вы тоже должны все это знать и уметь. Иначе — фронтенд я не хочу, линукс я не хочу, БД я не хочу. Это все равно что я могу только держать гвоздь, а забивать его молотком должен кто-то другой. Так не работает. Если вы бэкендер, то линукс это ваша среда, на которой будет работать ваш код, вы должны быть с ней на ты.</p><p>Вы должны уметь полностью настроить для себя сервер. Nginx, какой-нибудь gunicorn или uwsgi, django, celery, postgresql, redis. Вам должно быть абсолютно комфортно работать в командной строке, в консоли.</p><p>Касательно докер. Да, не лишним будет знание докер, но вопреки расхожему мнению, знание докер не заменяет знание линукс, а добавляет к необходимости знания линукс еще и необходимость знания самого докера. Это важно и это нужно, но это дополнение к знаниям линукса и его инструментов.</p><p>Знание CI/CD инструментов кстати тоже будет очень нелишним, хотя бы Gitlab например.</p><hr><p>Это касательно технологического стека. Вы должны их знать. Что я подразуемваю под знать? Вы знаете что-то, если вы с ним уже работали на практике. То есть практика это единственное мерило того, насколько вы действительно что-то знаете и умеете. Когда вы с чем-то начинаете работать, с любой технологией, сколько бы вы перед этим не прочли теории, вы в любом случае, всегда начнете собирать грабли, ошибки, сложности и тд. И реальный опыт, реальная ценность, она как раз в этих собранных вами граблях.</p><p>Есть еще пара важных моментов, это <code>английский</code> и умение гуглить. <code>Английский</code> — это умение читать английские технические тексты и умение задавать вопросы на английском, умение гуглить по-английски. Ну а умение гуглить позволяет вам самостоятельно и быстро находить ответы на любые свои вопросы в сети, это способность к быстрому и эффктивному самообучению, что критично важно. Можно пол дня пытаться обойти какую-то проблему, а можно за 5 минут, правильно сформулировав вопрос к Google, найти 3 решения, разобраться с ними и найти лучшее. Поэтому да, английский и умение гуглить на английском языке это очень важно.</p><hr><p>Итак, я очень кратко, верхнеуровнево перечислил основные навыки, которые должны быть у Python веб-разработчика. По каждому из перечисленных блоков можно копнуть глубже и детализировать там ещё на такой же объём материала.</p><p>Буду благодарен за обратную связь. Спасибо, что досмотрели до конца, оставайтесь на связи, пока-пока!</p>]]></content:encoded>
            <category>python</category>
            <category>know</category>
        </item>
        <item>
            <title><![CDATA[Ветер перемен как играть]]></title>
            <link>https://stavis-dev.github.io/blog/2023/06/26/veter-peremen-how-to-play</link>
            <guid>https://stavis-dev.github.io/blog/2023/06/26/veter-peremen-how-to-play</guid>
            <pubDate>Mon, 26 Jun 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Как играть "Ветер перемен" из вильма "Мэри Поппинс досвиданья" на пианино]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://thumbs.dfs.ivi.ru/storage4/contents/a/a/5b2b7bf95faf1aebd34374f91cabda.jpg/400x226/" alt="Мэри Поппинс до свидания" class="img_ev3q"></p><p><strong>Ветер перемен.</strong></p><ul><li>муз.М.Дунаевский</li><li>сл.Н.Олев</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="простая-версия">Простая версия<a href="#простая-версия" class="hash-link" aria-label="Прямая ссылка на Простая версия" title="Прямая ссылка на Простая версия">​</a></h2><iframe width="560" height="315" src="https://www.youtube.com/embed/GfDU9JmoWyw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="версия-чуть-по-сложнее">Версия чуть по сложнее<a href="#версия-чуть-по-сложнее" class="hash-link" aria-label="Прямая ссылка на Версия чуть по сложнее" title="Прямая ссылка на Версия чуть по сложнее">​</a></h2><iframe width="560" height="315" src="https://www.youtube.com/embed/oF5PJa6nuKs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="для-совсем-разбирающихся">Для совсем разбирающихся<a href="#для-совсем-разбирающихся" class="hash-link" aria-label="Прямая ссылка на Для совсем разбирающихся" title="Прямая ссылка на Для совсем разбирающихся">​</a></h2><iframe width="560" height="315" src="https://www.youtube.com/embed/nOkBCgbUjTI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ноты">Ноты<a href="#ноты" class="hash-link" aria-label="Прямая ссылка на Ноты" title="Прямая ссылка на Ноты">​</a></h2><iframe width="560" height="315" src="https://www.youtube.com/embed/-be13G2il5I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>]]></content:encoded>
            <category>music</category>
            <category>hobbies</category>
        </item>
        <item>
            <title><![CDATA[Ветер перемен текст песни]]></title>
            <link>https://stavis-dev.github.io/blog/2023/06/25/veter-peremen-text</link>
            <guid>https://stavis-dev.github.io/blog/2023/06/25/veter-peremen-text</guid>
            <pubDate>Sun, 25 Jun 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Текст и ноты песни "Ветер перемен" из вильма "Мэри Поппинс досвиданья"]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://thumbs.dfs.ivi.ru/storage4/contents/a/a/5b2b7bf95faf1aebd34374f91cabda.jpg/400x226/" alt="Мэри Поппинс до свидания" class="img_ev3q"></p><p><strong>Ветер перемен.</strong></p><ul><li>муз.М.Дунаевский</li><li>сл.Н.Олев</li></ul><p>Кружит земля, как в детстве карусель,<br>
<!-- -->А над землей кружат ветра потерь,<br>
<!-- -->Ветра потерь, разлук, обид и зла,<br>
<!-- -->Им нет числа,</p><p>Им нет числа - сквозят из всех щелей,<br>
<!-- -->В сердца людей, срывая дверь с петель,<br>
<!-- -->Круша надежды и внушая страх,<br>
<!-- -->Кружат ветра, кружат ветра.  </p><p>Сотни лет и день и ночь вращается<br>
<!-- -->Карусель-Земля,<br>
<!-- -->Сотни лет все ветры возвращаются<br>
<!-- -->Hа круги своя.</p><p>Hо есть на свете ветер перемен,<br>
<!-- -->Он прилетит, прогнав ветра измен,<br>
<!-- -->Развеет он, когда прийдет пора<br>
<!-- -->Ветра разлук, обид ветра.</p><p>Сотни лет и день и ночь вращается<br>
<!-- -->Карусель-Земля.<br>
<!-- -->Сотни лет все в жизни возвращается<br>
<!-- -->Hа круги своя.  </p><p>Завтра ветер переменится,<br>
<!-- -->Завтра прошлому взамен<br>
<!-- -->Он придет, он будет добрый, ласковый<br>
<!-- -->Ветер перемен.<br>
<!-- -->Он придет, он будет добрый, ласковый<br>
<!-- -->Ветер перемен.  </p><p><a href="https://youtu.be/C-HJ7qHCksA" target="_blank" rel="noopener noreferrer">youtube</a></p>]]></content:encoded>
            <category>music</category>
            <category>hobbies</category>
        </item>
        <item>
            <title><![CDATA[Первый пост из гитхаба]]></title>
            <link>https://stavis-dev.github.io/blog/first-from-github</link>
            <guid>https://stavis-dev.github.io/blog/first-from-github</guid>
            <pubDate>Sat, 10 Jun 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Ни разу не писал посты сразу со страничек гитхаба. Это первый раз.]]></description>
            <content:encoded><![CDATA[<p>Ни разу не писал посты сразу со страничек гитхаба. Это первый раз.<br>
<!-- -->В целом приемлемо, едниственный минус, из за невнимательности, можно дуопустить много ащибак. Они никак не подсвечиваются.</p><p>Сейчас нахожусь на этапе переброски базы заний из <code>obsidian</code> в маркдаун файлы подходящие для <code>docusaurus</code>.<br>
<!-- -->С неприятным удивлением обнаружил, что многое в моей "базе знаний" записано хаотично. И отдельными страницами инфу трудно воспринять.</p><p>В общем походу добавления правок, блог и база знаний будет наполняться.</p>]]></content:encoded>
            <category>hello</category>
            <category>docusaurus</category>
            <category>github</category>
        </item>
        <item>
            <title><![CDATA[Welcome]]></title>
            <link>https://stavis-dev.github.io/blog/welcome</link>
            <guid>https://stavis-dev.github.io/blog/welcome</guid>
            <pubDate>Thu, 26 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Docusaurus blogging features are powered by the blog plugin.]]></description>
            <content:encoded><![CDATA[<p><a href="https://docusaurus.io/docs/blog" target="_blank" rel="noopener noreferrer">Docusaurus blogging features</a> are powered by the <a href="https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog" target="_blank" rel="noopener noreferrer">blog plugin</a>.</p><p>Simply add Markdown files (or folders) to the <code>blog</code> directory.</p><p>Regular blog authors can be added to <code>authors.yml</code>.</p><p>The blog post date can be extracted from filenames, such as:</p><ul><li><code>2019-05-30-welcome.md</code></li><li><code>2019-05-30-welcome/index.md</code></li></ul><p>A blog post folder can be convenient to co-locate blog post images:</p><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/docusaurus-plushie-banner-a60f7593abca1e3eef26a9afa244e4fb.jpeg" width="1500" height="500" class="img_ev3q"></p><p>The blog supports tags as well!</p><p><strong>And if you don't want a blog</strong>: just delete this directory, and use <code>blog: false</code> in your Docusaurus config.</p>]]></content:encoded>
            <category>facebook</category>
            <category>hello</category>
            <category>docusaurus</category>
        </item>
        <item>
            <title><![CDATA[MDX Blog Post]]></title>
            <link>https://stavis-dev.github.io/blog/mdx-blog-post</link>
            <guid>https://stavis-dev.github.io/blog/mdx-blog-post</guid>
            <pubDate>Sun, 01 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Blog posts support Docusaurus Markdown features, such as MDX.]]></description>
            <content:encoded><![CDATA[<p>Blog posts support <a href="https://docusaurus.io/docs/markdown-features" target="_blank" rel="noopener noreferrer">Docusaurus Markdown features</a>, such as <a href="https://mdxjs.com/" target="_blank" rel="noopener noreferrer">MDX</a>.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>подсказка</div><div class="admonitionContent_S0QG"><p>Use the power of React to create interactive blog posts.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#D73A49">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#D73A49">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#D73A49">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#C6105F">'button clicked!'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><span class="token operator" style="color:#D73A49">!</span><span class="token operator" style="color:#D73A49">&lt;</span><span class="token operator" style="color:#D73A49">/</span><span class="token plain">button</span><span class="token operator" style="color:#D73A49">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button>Click me!</button></div></div>]]></content:encoded>
            <category>docusaurus</category>
        </item>
    </channel>
</rss>